<!DOCTYPE html>
<html lang="it">
<head>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Petriolese — Matchday</title>
<meta name="theme-color" content="#0b0f0c">
<link rel="preconnect" href="https://docs.google.com">
<link rel="dns-prefetch" href="https://docs.google.com">
<style>
  :root{
    --club-red:#e11d48; --club-blue:#1d4ed8;
    --bench:var(--club-blue);
    --bg:#0b0f0c; --card:#0f172a; --text:#e5e7eb; --muted:#94a3b8;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;background:var(--bg);color:var(--text)}

  .topbar{width:100%;display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;padding:12px 16px;border-bottom:2px solid rgba(29,78,216,.35)}
  .brand{display:flex;align-items:center;gap:10px}
  .brand img{width:42px;height:42px;object-fit:contain}
  .brand .club{font-weight:900;letter-spacing:.3px}
  .matchline{display:none}
  .subline{font-size:12px;color:var(--muted)}

  /* ===== Frontespizio ===== */
  .frontespizio{text-align:center;margin:20px 0}
  .frontespizio h1{
    font-size:36px;font-weight:900;margin:0 0 12px;color:#fff;letter-spacing:2px;
  }
  .frontespizio .line2{
    display:flex;justify-content:center;align-items:center;gap:10px;flex-wrap:wrap;
    font-size:20px;font-weight:900;margin-bottom:8px;
  }
  .frontespizio .line2 img{height:48px;width:auto;}
  .frontespizio .red{color:var(--club-red);}
  .frontespizio .blue{color:var(--club-blue);}
  .frontespizio .line3 img{height:60px;width:auto;margin-bottom:8px;}
  .frontespizio .line4{font-size:22px;font-weight:800;}
  /* ======================== */

  .wrap{min-height:100svh;display:grid;place-items:start center;padding:8px 16px calc(16px + env(safe-area-inset-bottom))}
  .board{display:grid;gap:16px;grid-template-columns:1fr;width:100%;max-width:960px}
  @media (min-width:860px){.board{grid-template-columns:minmax(300px,520px) 1fr;align-items:start;gap:20px}}

  .pitch{position:relative;width:100%;max-width:520px;aspect-ratio:2/3;margin:0 auto;border-radius:16px;box-shadow:0 6px 18px rgba(0,0,0,.30);overflow:hidden;border:2px solid rgba(29,78,216,.25)}
  .pitch>img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover}

  .player{position:absolute;transform:translate(-50%,-50%);width:clamp(60px,11.5vw,96px);height:clamp(60px,11.5vw,96px);overflow:visible}
  .player .ball{width:100%;height:100%;border-radius:999px;overflow:hidden;border:2px solid rgba(255,255,255,.7);box-shadow:0 6px 16px rgba(0,0,0,.35);background:linear-gradient(90deg,var(--club-red) 0 50%,var(--club-blue) 50% 100%);display:grid;place-items:center;padding:4px}
  .player .ball img{width:100%;height:100%;object-fit:cover;display:block}
  .num-badge{position:absolute;left:50%;transform:translate(-50%,-100%);top:0;background:var(--club-blue);color:#fff;border:2px solid rgba(255,255,255,.7);border-radius:999px;padding:2px 7px;font-weight:900;font-size:12px;line-height:1;z-index:2}
  .name-below{position:absolute;top:calc(100% - 4px);left:50%;transform:translateX(-50%);background:var(--club-blue);color:#fff;border:2px solid rgba(255,255,255,.7);border-radius:999px;padding:3px 8px;font-weight:900;font-size:12px;line-height:1;white-space:nowrap;overflow:visible;max-width:none;box-shadow:0 2px 8px rgba(0,0,0,.25)}

  .side{display:grid;gap:16px}
  .card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:14px;padding:12px}
  .title{font-weight:800;letter-spacing:.2px;font-size:14px;color:#fff}

  .bench{display:grid;grid-template-columns:repeat(auto-fit,minmax(clamp(84px,22vw,140px),1fr));gap:14px;justify-content:center;max-width:min(100%,520px);margin:8px auto 0}
  .bench .item{display:grid;grid-template-rows:auto auto auto;justify-items:center;gap:6px;position:relative}
  .bench .num-badge{position:relative;top:0;transform:none;background:var(--club-blue);color:#fff;border:2px solid rgba(255,255,255,.7);border-radius:999px;padding:3px 10px;font-weight:900;font-size:12px;line-height:1}
  .bench .avatar{width:clamp(64px,18vw,110px);height:clamp(64px,18vw,110px);border-radius:999px;overflow:hidden;background:var(--bench);border:2px solid rgba(255,255,255,.55);box-shadow:0 4px 12px rgba(0,0,0,.25);display:grid;place-items:center}
  .bench .avatar img{width:100%;height:100%;object-fit:cover}
  .bench .name{font-size:12px;text-align:center;color:#e5e7eb;white-space:normal;word-break:break-word;line-height:1.05}
  .notice{font-size:12px;color:var(--muted);text-align:center;margin-top:2px}
</style>
</head>
<body>
<header class="topbar">
  <div class="brand">
    <img id="clubLogo" src="CLAUDIO LOGO.jpg" alt="Logo Petriolese" onerror="this.style.display='none'"/>
    <div class="club">Petriolese Calcio</div>
  </div>
  <div>
    <div class="matchline" id="matchLine">PETRIOLESE vs AVVERSARIO</div>
    <div class="subline" id="matchWhen"></div>
  </div>
</header>

<!-- ===== Frontespizio MATCHDAY ===== -->
<div class="frontespizio">
  <h1>MATCHDAY</h1>
  <div class="line2">
    <img src="CLAUDIO LOGO.jpg" alt="Logo Petriolese">
    <span class="red">PETRIOLESE</span>
    <span class="blue">CALCIO</span>
  </div>
  <div class="line3">
    <img src="vs_battle.png" alt="VS">
  </div>
  <div class="line4" id="frontOpponent">AVVERSARIO</div>
</div>
<!-- ================================= -->

<main class="wrap">
  <section class="board">
    <div class="pitch" id="pitch">
      <img id="pitchImg" src="https://tse3.mm.bing.net/th/id/OIP.xR8peX5FCoXBMSXQkppsfwAAAA?pid=Api" alt="Mezzo campo" loading="lazy" decoding="async"/>
    </div>
    <aside class="side">
      <div class="card">
        <div class="bench" id="bench"></div>
        <div class="notice" id="notice">Carico i dati…</div>
      </div>
    </aside>
  </section>
</main>

<script>
  // ... (tutto invariato)
  function renderAll(meta, byNum){
    const opp = meta['avversario'] || 'AVVERSARIO';
    const when= meta['when'] || meta['data'] || '';
    const logoURL = meta['logourl'] || '';
    el('#clubLogo').src=logoURL||'CLAUDIO LOGO.jpg';
    el('#matchLine').textContent=`PETRIOLESE vs ${opp}`;
    el('#matchWhen').textContent=when;
    const oppNode = el('#frontOpponent'); if (oppNode) oppNode.textContent = opp;
    if(meta['pitchurl']) el('#pitchImg').src=meta['pitchurl'];
    // ... (il resto invariato)
  }
</script>
</body>
</html>
