<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Campo in prospettiva + SUBS (mobile ready)</title>
<style>
  :root{
    /* layout */
    --pitch-bottom: 14%; /* distanza del campo dal fondo */
    --subs-gap:      6%; /* spazio tra fondo campo e lista panchinari */
    /* colori */
    --bg:#0b0c11;
    --roof-dark:#151923;
    --roof-mid:#1f2531;
    --roof-glow:rgba(255,255,255,.08);
    --grass-1:#0a6f20; --grass-2:#0d7f26;
    --rossoblu:linear-gradient(90deg,#8b0000,#000080);
  }

  html,body{height:100%}
  body{
    margin:0; background:var(--bg);
    display:grid; place-items:center;
    font-family:system-ui,Arial,sans-serif;
  }

  .stage{
    position:relative; width:min(1200px,96vw); aspect-ratio:9/16; max-height:96vh;
    overflow:hidden; border-radius:18px; background:#0b0c11;
    box-shadow:0 25px 80px rgba(0,0,0,.6);
  }

  .stadium{
    position:absolute; inset:0;
    background:
      radial-gradient(1200px 220px at 50% -40px, var(--roof-glow), transparent 60%),
      repeating-linear-gradient(-10deg, rgba(255,255,255,.05) 0 14px, rgba(0,0,0,0) 14px 44px),
      linear-gradient(to bottom, var(--roof-mid) 0%, var(--roof-dark) 48%, #061007 100%);
  }

  /* Campo in prospettiva */
  .pitch-wrap{
    position:absolute; left:50%; bottom:var(--pitch-bottom); transform:translateX(-50%);
    width:100%; height:75%;
    clip-path: polygon(12% 12%, 88% 12%, 100% 100%, 0 100%);
  }
  .grass{
    position:absolute; inset:0;
    background:
      repeating-linear-gradient(to bottom, rgba(255,255,255,.08) 0 6%, rgba(0,0,0,0) 6% 12%),
      linear-gradient(to bottom, var(--grass-2), var(--grass-1));
    box-shadow: inset 0 -40px 80px rgba(0,0,0,.35);
  }
  svg{position:absolute; inset:0; width:100%; height:100%;}

  /* Badge SUBS dentro il campo (attaccato alla linea di fondo) */
  .subs-badge{
    position:absolute; bottom:calc(var(--pitch-bottom) + 6px);
    left:calc(3% + 6px);
    padding:4px 10px;
    background:var(--rossoblu);
    color:#fff; font-weight:700;
    font-size: clamp(.8rem, 1.2vw, .95rem); /* tipografia fluida */
    border-radius:4px;
    min-width:56px; text-align:center;     /* non diventa troppo piccolo */
    pointer-events:none;
  }

  /* Lista panchinari SOTTO il campo, con spazio e wrap robusto */
  .subs-list{
    position:absolute; left:0; right:0;
    bottom:calc(var(--pitch-bottom) - var(--subs-gap));
    color:#fff;
    font-size: clamp(.85rem, 1.3vw, 1rem);  /* tipografia fluida */
    text-align:center;
    padding:2px 12px;
    word-break: break-word;
    overflow-wrap: anywhere;
  }

  /* Tweak per telefoni stretti */
  @media (max-width: 480px){
    :root{
      --pitch-bottom: 16%;
      --subs-gap: 8%;
    }
  }
</style>
</head>
<body>
  <div class="stage">
    <div class="stadium"></div>

    <div class="pitch-wrap">
      <div class="grass"></div>
      <svg viewBox="0 0 1000 1000" preserveAspectRatio="none">
        <g id="lines" stroke="white" fill="none"></g>
      </svg>
    </div>

    <!-- Badge SUBS dentro al campo -->
    <div class="subs-badge">SUBS:</div>

    <!-- Spazio per i panchinari (verranno poi dal Google Sheet) -->
    <div class="subs-list">[nomi panchinari qui]</div>
  </div>

<script>
/* === Disegno del campo in prospettiva (parametri FIFA) === */
const W=68,H=105,areaW=40.32,areaD=16.5,goalW=18.32,goalD=5.5,spot=11,R=9.15;
const TL={x:120,y:130}, TR={x:880,y:130}, BL={x:0,y:1000}, BR={x:1000,y:1000};
const lerp=(a,b,t)=>({x:a.x+(b.x-a.x)*t, y:a.y+(b.y-a.y)*t});
function map(u,v){const t=v/H, L=lerp(TL,BL,t), Rr=lerp(TR,BR,t), s=u/W; return {x:L.x+(Rr.x-L.x)*s, y:L.y+(Rr.y-L.y)*s};}
const G=document.getElementById('lines');
function addPolyline(pts,w=3){const el=document.createElementNS('http://www.w3.org/2000/svg','polyline'); el.setAttribute('points',pts.map(p=>`${p.x.toFixed(1)},${p.y.toFixed(1)}`).join(' ')); el.setAttribute('stroke','white'); el.setAttribute('fill','none'); el.setAttribute('stroke-width',w); el.setAttribute('stroke-linecap','round'); el.setAttribute('stroke-linejoin','round'); G.appendChild(el);}
const addLine=(u1,v1,u2,v2,w=3)=>addPolyline([map(u1,v1),map(u2,v2)],w);
function addRect(x1,y1,x2,y2,w=3){addLine(x1,y1,x2,y1,w); addLine(x1,y2,x2,y2,w); addLine(x1,y1,x1,y2,w); addLine(x2,y1,x2,y2,w);}
function addCircle(cx,cy,r,from,to,steps=240,w=3){const pts=[]; for(let i=0;i<=steps;i++){const a=from+(to-from)*i/steps; pts.push(map(cx+r*Math.cos(a),cy+r*Math.sin(a)));} addPolyline(pts,w);}
function addDot(u,v,r=2.2){const p=map(u,v); const c=document.createElementNS('http://www.w3.org/2000/svg','circle'); c.setAttribute('cx',p.x); c.setAttribute('cy',p.y); c.setAttribute('r',r); c.setAttribute('fill','white'); G.appendChild(c);}

/* Perimetro e metÃ  campo */
addPolyline([TL,TR,BR,BL,TL],6);
addLine(0,H/2,W,H/2,3);

/* Cerchio centrocampo */
addCircle(W/2,H/2,R,0,2*Math.PI,280,3); addDot(W/2,H/2);

/* Aree e 5.5 */
const cx=W/2, ax1=cx-areaW/2, ax2=cx+areaW/2, ay2=areaD;
const gx1=cx-goalW/2, gx2=cx+goalW/2, gy2=goalD;
addRect(ax1,0,ax2,ay2,3); addRect(gx1,0,gx2,gy2,3); addDot(cx,spot);
const ay1b=H-areaD, gy1b=H-goalD;
addRect(ax1,ay1b,ax2,H,3); addRect(gx1,gy1b,gx2,H,3); addDot(cx,H-spot);

/* Archi del rigore (verso il centrocampo, fuori area) con piccolo epsilon per chiusura pulita */
const eps=0.03, base=Math.acos((areaD-spot)/R);
addCircle(cx,spot,R,base-eps,Math.PI-base+eps,260,3);
addCircle(cx,H-spot,R,Math.PI+base-eps,2*Math.PI-base+eps,260,3);
</script>
</body>
</html>
